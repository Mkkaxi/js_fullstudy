<script>
  Promise.myall = function(promiseArr) {
    return new Promise((resolve, reject) => {
      let c = 0, len = promiseArr.length, res = []
      for (let i = 0; i < len; i ++) {
        promiseArr[i].then((r) => {
          c++
          res[i] = r
          if (c === len) {
            resolve(res)
          }
        })
        .catch(err => {
          c ++
          res[i] = null
          if (c == len) {
            resolve(res)
          }
        })
      }
    })
  }
</script>